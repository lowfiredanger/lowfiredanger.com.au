<!DOCTYPE html>
<html>
    <head>
        <title>Low Fire Danger: Web applications engineering and development</title>
        <link href="/stylesheets/index.css" media="screen, projection" rel="stylesheet" type="text/css">
        <script type="text/javascript" src="/javascripts/libs/jquery-1.6.4.min.js"></script>
    </head>
    <body>
        <div id="page">
            
            <section id="hero">
                <h1>Low Fire Danger</h1>
                <div class="img-logo-water"><img src="/images/main/logo_water.png" alt="Low fire danger water"/></div>
                <div class="img-logo-small-cog"><img src="/images/main/cog_small.png" alt="Low fire danger water"/></div>
                <div class="img-logo-large-cog"><img src="/images/main/cog_large.png" alt="Low fire danger water"/></div>
                <div class="img-logo-fire"><img src="/images/main/logo_fire.png" alt="Low fire danger fire"/></div>
                <div class="img-logo-text"><img src="/images/main/logo_text.png" alt="Low fire danger logo - Web development"/></div>
                <div class="img-logo-spiel">We <span>design</span> <span class="plus">+</span> <span>engineer</span> web applications</div>
                
            </section>

            <section id="creative-simple-web-solutions">
                <div class="animation">
                    <div class="img-small-cog-1"><img src="/images/main/cog_small_cream.png" alt="Low fire danger water"/></div>
                    <div class="img-large-cog-1"><img src="/images/main/cog_large_red.png" alt="Low fire danger water"/></div>
                    <div class="img-xlarge-cog-1"><img src="/images/main/cog_xlarge.png" alt="Low fire danger water"/></div>
                </div>


<!-- <div class="img-browser">
                    <img src="/images/main/browser.png" alt="Low fire danger fire"/>
                </div> -->

                <div class="sell">
                    <h2>We provide <span>creative</span> and <span>simple</span> solutions to complex problems</h2>

                    <p>
                        We're keen on solving problems and translating it into a web application. Whether it's a simple time tracking system, or a complex inventory management system; we'll try and figure out the simplest approach to develop a solution that works in your web browser.
                    </p>
                </div>
            </section>
<!-- 
            <section id="passion">
                <h2>We're <span>passionate</span> about the web</h2>

                <p>

                </p>
            </section>

            <section id="this-is-low-fire-danger">
                <h2><span>Low Fire Danger:</span></h2>
                <h3> Small agency, Engineering quality, Full spectrum creativity, Business smart, Honest and Easy going</h3>
                <p>Those were some words which we thought described us and our passion.</p>
                <p>We'd love to work with you, send us an email at <a href="contact@lowfiredanger.com.au">contact@lowfiredanger.com.au</a></p>
            </section>
 -->

<script>
lfd = {}
lfd.site = {}

lfd.site = function() {
    var self = this;

    this.$imgLogoWater = $('.img-logo-water');
    this.$logoSmallCog = $('.img-logo-small-cog');
    this.$logoLargeCog = $('.img-logo-large-cog');
    this.$imgLogoSmallCog = $('.img-logo-small-cog img');
    this.$imgLogoLargeCog = $('.img-logo-large-cog img');
    this.$imgLogoFire = $('.img-logo-fire');
    this.$imgLogoText = $('.img-logo-text');
    this.$imgLogoSpiel = $('.img-logo-spiel');
    this.$imgBrowser = $('.img-browser', '#what-are-web-applications');

    this.$creativeSell = $('.sell', '#creative-simple-web-solutions');
    this.$creativeAnimation = $('.animation', '#creative-simple-web-solutions');

    // Random cogs
    this.$largeCog1 = $('.img-large-cog-1');
    this.$imgLargeCog1 = $('.img-large-cog-1 img');
    this.$xLargeCog1 = $('.img-xlarge-cog-1');
    this.$imgXLargeCog1 = $('.img-xlarge-cog-1 img');
    this.$smallCog1 = $('.img-small-cog-1');
    this.$imgSmallCog1 = $('.img-small-cog-1 img');

    // Event bindings
    $(window).resize(function(){
        self.resizeSection.call(self);
    });

    $(window).scroll(function(){
        self.scroll.call(self);
    });


    $('#page').height('5000px')

    // Initialise
    self.resizeSection(self);
    self.scroll(self);
    self.initializePositions();


    
}

lfd.site.prototype.initializePositions = function(){
    // $('.img-logo-fire').css('top', '-10000px');

};

lfd.site.prototype.resizeSection = function() {
    var self, dimensions
    // self = this;
    // dimensions = self.getWindowDimensions();

    // sectionHeight  =  dimensions.height < 640 ? 640 : dimensions.height;
    // $('section').css('height', sectionHeight);
};

lfd.site.prototype.getWindowDimensions = function() {
    var windowHeight, windowWidth;

    windowHeight = $(window).height();
    windowWidth = $(window).width();

    return {
        height: windowHeight,
        width: windowWidth
    };

}

lfd.site.prototype.scroll = function() {
    var self, dimensions, middle, scrollPosition, newPosition, max, eq;
    self = this;

    dimensions = self.getWindowDimensions();
    scrollPosition = $(window).scrollTop();
    middle = dimensions.width/2;

    console.log( scrollPosition );

    max = 1380;

    //Logo transformation
    // if( scrollPosition < max ) {
        // Logo Water and cogs
        // ====================
        max = 360;
        eq = function(x){
            return 100 - x/5;
        }

        self.$imgLogoWater.css('position', 'fixed');
        if(scrollPosition < max){        
            self.$imgLogoWater.css('top', eq(scrollPosition) + 'px');
            self.$logoSmallCog.css('top', eq(scrollPosition) + 305 + 'px');
            self.$logoLargeCog.css('top', eq(scrollPosition) + 343 + 'px');
        }else{
            self.$imgLogoWater.css('top',  eq(max) + 'px');

            if( scrollPosition < 1143){
                self.$logoSmallCog.css('position', 'fixed');
                self.$logoLargeCog.css('position', 'fixed');
                self.$logoSmallCog.css('top', eq(max) + 305 + 'px');
                self.$logoLargeCog.css('top', eq(max) + 343 + 'px');
            }
        }



        // Logo Fire
        // =============
        max = 387;
        eq = function(x){
            return 1000 - x * 2;
        }
        
        self.$imgLogoFire.css('position', 'fixed');
        if( scrollPosition < max ) {
            self.$imgLogoFire.css('top', eq(scrollPosition) + 'px');
            self.$imgLogoText.fadeOut();
        }else{
            self.$imgLogoFire.css('top', eq(max) + 'px');
            self.$imgLogoText.fadeIn();
        }

        // Logo text
        // =============
        max = 620;
        eq = function(x){
            return 1500 -  x * 1.5;
        }

        self.$imgLogoText.css('position', 'fixed');
        if( scrollPosition < max ) {
            self.$imgLogoText.css('top', eq(scrollPosition) + 'px');
            self.$imgLogoSpiel.fadeOut();
        }else{
            self.$imgLogoText.css('top', eq(max) + 'px');
            self.$imgLogoSpiel.fadeIn();
        }
        
        // Logo spiel
        // =============
        max = 710;
        eq = function(x){
            return 1700 -  x * 1.5 ;
        }

        self.$imgLogoSpiel.css('position', 'fixed');
        if( scrollPosition < max ) {
            self.$imgLogoSpiel.css('top', eq(scrollPosition) + 'px');
        }else{
            self.$imgLogoSpiel.css('top', eq(max) + 'px');
        }
    // }
    
        // Logo cog
        // ==========
        self.rotateElement( self.$imgLogoLargeCog, scrollPosition + 16, -1);
        self.rotateElement( self.$imgLogoSmallCog, scrollPosition, 1.5);


    // Post-logo transformation
    // =============
    if( scrollPosition > max ) {
        // self.$imgLogoText.fadeTo(0, 1 - (scrollPosition-max)/200)
        self.positionFixedToAbsolute(self.$imgLogoWater, max)
        self.positionFixedToAbsolute(self.$imgLogoFire, max)
        self.positionFixedToAbsolute(self.$imgLogoText, max)
        self.positionFixedToAbsolute(self.$imgLogoSpiel, max)
        self.$creativeAnimation.fadeIn();

        eq = function(x){
            return max - x;
        }

        // console.log(eq(scrollPosition))
        // self.$imgLogoWater.css('left', eq(scrollPosition))
        // self.$imgLogoFire.css('left', eq(scrollPosition))
        // self.$imgLogoText.css('left', eq(scrollPosition))
        // self.$imgLogoSpiel.css('left', eq(scrollPosition))

    }else{
        self.$creativeAnimation.fadeOut();
        // self.$imgLogoWater.css('left', 'initial')
        // self.$imgLogoFire.css('left', 'initial')
        // self.$imgLogoText.css('left', 'initial')
        // self.$imgLogoSpiel.css('left', 'initial')
    }

    if( scrollPosition > 1143){
        self.$creativeSell.fadeIn();
        // self.positionAbsoluteToFixed($('#hoe'));
        self.positionFixedToAbsolute(this.$logoLargeCog,1143)
        self.positionFixedToAbsolute(this.$logoSmallCog,1143)
        self.rotateElement( self.$imgLargeCog1, scrollPosition, 1);
        self.rotateElement( self.$imgXLargeCog1, scrollPosition, 1);
        self.rotateElement( self.$imgSmallCog1, scrollPosition, -3.0);
        
    }else{
        self.$creativeSell.fadeOut();
    }

};

lfd.site.prototype.positionFixedToAbsolute = function($el, offset) {
    if( $el.css('position') != 'absolute' ) {
        var top = parseInt($el.css('top'));
        
        $el.css('position', 'absolute');
        $el.css('top', offset + top + 'px');
    }
};
lfd.site.prototype.positionAbsoluteToFixed = function($el) {
    if( $el.css('position') != 'fixed' ) {
        var position = $el.position();
        
        $el.css('position', 'fixed');
        $el.css('top', position.top + 'px');
    }
};

lfd.site.prototype.rotateElement = function($el, degrees, multiplier) {
        
    $el.css({
        '-webkit-transform':'rotate(' + degrees * multiplier + 'deg)',
        '-moz-transform':'rotate(' + degrees * multiplier + 'deg)',
        '-o-transform':'rotate(' + degrees * multiplier + 'deg)',
        '-ms-transform':'rotate(' + degrees * multiplier + 'deg)',
        'transform':'rotate(' + degrees * multiplier + 'deg)'
        // 'filter':'progid:DXImageTransform.Microsoft.BasicImage(rotation=' + degrees * multiplier + ')'
    });
};

new lfd.site();

</script>

            <a href="/blog" title="Visit Low Fire Dangers blog">Visit our blog</a>

        </div>
    </body>
</html>
